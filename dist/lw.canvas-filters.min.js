!function(e,a){"object"==typeof exports&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define("CanvasFilter",[],a):"object"==typeof exports?exports.CanvasFilter=a():e.CanvasFilter=a()}(this,function(){return function(e){function a(o){if(t[o])return t[o].exports;var n=t[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}var t={};return a.m=e,a.c=t,a.p="",a(0)}([function(e,a,t){e.exports=t(1)},function(e,a,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e){return e<0?0:e>255?255:e}function r(e,a,t){t&&(e[a]=n(255-e[a]),e[a+1]=n(255-e[a+1]),e[a+2]=n(255-e[a+2]))}function i(e,a,t){void 0!==t&&(e[a]=n(e[a]+t),e[a+1]=n(e[a+1]+t),e[a+2]=n(e[a+2]+t))}function s(e,a,t){void 0!==t&&(e[a]=n(t*(e[a]-128)+128),e[a+1]=n(t*(e[a+1]-128)+128),e[a+2]=n(t*(e[a+2]-128)+128))}function c(e,a,t){void 0!==t&&(e[a]=n(Math.exp(Math.log(255*(e[a]/255))*t)),e[a+1]=n(Math.exp(Math.log(255*(e[a+1]/255))*t)),e[a+2]=n(Math.exp(Math.log(255*(e[a+2]/255))*t)))}function d(e,a,t,o){if(u.indexOf(t)===-1)throw new Error("Unsupported grayscale algorithm: "+t);if("none"===t)return null;var r=void 0,i=e[a],s=e[a+1],c=e[a+2];switch(t){case"average":r=(i+s+c)/3;break;case"luma":r=.3*i+.59*s+.11*c;break;case"luma-601":r=.299*i+.587*s+.114*c;break;case"luma-709":r=.2126*i+.7152*s+.0722*c;break;case"luma-240":r=.212*i+.701*s+.087*c;break;case"desaturation":r=(Math.max(i,s,c)+Math.min(i,s,c))/2;break;case"decomposition-min":r=Math.min(i,s,c);break;case"decomposition-max":r=Math.max(i,s,c);break;case"red-chanel":r=i;break;case"green-chanel":r=s;break;case"blue-chanel":r=c}void 0!==o&&(r=parseInt(r/o)*o),r=parseInt(r),e[a]=n(r),e[a+1]=n(r),e[a+2]=n(r)}function l(e,a){a=Object.assign({},{smoothing:!1,brightness:0,contrast:0,gamma:0,grayscale:"none",shadesOfGray:256,invertColor:!1,dithering:!1},a||{});var t=e.getContext("2d");void 0!==t.imageSmoothingEnabled?t.imageSmoothingEnabled=a.smoothing:(t.mozImageSmoothingEnabled=a.smoothing,t.webkitImageSmoothingEnabled=a.smoothing,t.msImageSmoothingEnabled=a.smoothing,t.oImageSmoothingEnabled=a.smoothing);var o=t.getImageData(0,0,e.width,e.height),n=o.data,l=void 0,m=void 0,u=void 0,g=void 0;0!==a.contrast&&(l=259*(a.contrast+255)/(255*(259-a.contrast))),0!==a.brightness&&(m=a.brightness),0!==a.gamma&&(u=1/a.gamma),a.shadesOfGray>1&&a.shadesOfGray<256&&(g=255/(a.shadesOfGray-1));for(var f=0,v=n.length;f<v;f+=4)r(n,f,a.invertColor),i(n,f,m),s(n,f,l),c(n,f,u),d(n,f,a.grayscale,g);a.dithering&&(0,h.default)(o),t.putImageData(o,0,0)}Object.defineProperty(a,"__esModule",{value:!0}),a.canvasFilters=void 0;var m=t(2),h=o(m),u=["none","average","desaturation","decomposition-min","decomposition-max","luma","luma-601","luma-709","luma-240","red-chanel","green-chanel","blue-chanel"];a.canvasFilters=l,a.default=l},function(e,a){function t(e){for(var a,t,o=e.data,n=o.length,r=e.width,i=[],s=[],c=[],d=0;d<256;d++)i[d]=.299*d,s[d]=.587*d,c[d]=.11*d;for(var d=0;d<=n;d+=4)o[d]=Math.floor(i[o[d]]+s[o[d+1]]+c[o[d+2]]);for(var l=0;l<=n;l+=4)a=o[l]<150?0:255,t=Math.floor((o[l]-a)/23),o[l]=a,o[l+4]+=7*t,o[l+4*r-4]+=3*t,o[l+4*r]+=5*t,o[l+4*r+4]+=1*t,o[l+1]=o[l+2]=o[l];return e}e.exports=t}])});
//# sourceMappingURL=lw.canvas-filters.min.js.map